{"version":3,"sources":["webpack:///src/views/popup/PopupList.vue","webpack:///./src/views/popup/PopupList.vue?fe89","webpack:///./src/views/popup/PopupList.vue"],"names":["PopupList","data","popupData","total","pageSize","currentPage","created","this","onList","methods","_this","axios_default","a","get","then","res","console","log","reverse","forEach","item","index","array","createdAt","substring","filename","concat","length","currentMaxLow","currentMinLow","slice","catch","err","finally","_","onDetail","scope","$router","push","path","query","popupId","row","id","onPageChange","pageNo","popup_PopupList","render","_vm","_h","$createElement","_c","_self","attrs","prop","label","width","align","_v","scopedSlots","_u","key","fn","staticClass","staticStyle","max-height","alt","src","header-align","on","click","$event","_s","subj","layout","page-size","current-page","update:currentPage","current-change","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.dcacf4ebc193885bd13f.js","sourcesContent":["<template>\r\n  <section>\r\n    <el-table :data=\"popupData\">\r\n      <el-table-column prop=\"id\" label=\"번호\" width=\"80\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"filename\" label=\"이미지\" width=\"400\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n           <img class=\"popupImg\" alt=\"\" :src=\"scope.row.filename\" style=\"width:100%;max-height:220px;\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"subj\" label=\"제목\" header-align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span class=\"link\" @click=\"onDetail(scope)\">{{scope.row.subj}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"tp\" align=\"center\" label=\"팝업 구분\" width=\"130\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"createdAt\" align=\"center\" label=\"등록일\" width=\"150\">\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination layout=\"prev, pager, next\" \r\n      :page-size=\"pageSize\" \r\n      :total=\"total\"\r\n      :current-page.sync=\"currentPage\" \r\n      @current-change=\"onPageChange\"> \r\n    </el-pagination>\r\n    \r\n    <div class=\"bottomBtns\">\r\n      <el-button type=\"primary\" @click=\"$router.push('/popup/register')\">팝업 등록</el-button>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  import Cookies from 'js-cookie'\r\n  export default {\r\n   data() {\r\n     return {\r\n       popupData: [],\r\n       total:1,\r\n       pageSize: 10,\r\n       currentPage: 1\r\n     }\r\n   },\r\n   created() {\r\n    this.onList()\r\n   },\r\n   methods: {\r\n     onList(){ \r\n       axios.get('http://15.164.101.68:3000/popup')\r\n      .then(res => {\r\n       \r\n        console.log('========res=========')\r\n        console.log(res)\r\n        console.log('========res=========')\r\n\r\n\r\n         //데이터 가공\r\n        const popupData = res.data.popupData\r\n        popupData.reverse() //배열 거꾸로 정렬\r\n        popupData.forEach(function (item, index, array) {\r\n          array[index].createdAt = item.createdAt.substring(0, 10); // 날짜 예쁘게 자르기\r\n        })\r\n        const imgUrl = \"http://15.164.101.68:3000/images/\";\r\n        popupData.forEach(function (item, index, array) {\r\n          array[index].filename = imgUrl.concat(item.filename);\r\n        })\r\n        this.total = popupData.length\r\n\r\n        let currentMaxLow = this.currentPage * this.pageSize\r\n        let currentMinLow = currentMaxLow - this.pageSize\r\n        console.log(currentMaxLow, currentMinLow)\r\n\r\n        this.popupData = popupData.slice(currentMinLow, currentMaxLow)//실제로 0~9까지 자름 \r\n        \r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      .finally(_ => {\r\n\r\n      })\r\n     },\r\n     onDetail(scope) {\r\n      console.log(scope)\r\n       this.$router.push({ path: '/popup/detail', query: {popupId:scope.row.id}})\r\n     },\r\n     onPageChange(pageNo) {\r\n       this.onList()\r\n     }\r\n   }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/popup/PopupList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-table',{attrs:{\"data\":_vm.popupData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"번호\",\"width\":\"80\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"filename\",\"label\":\"이미지\",\"width\":\"400\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"popupImg\",staticStyle:{\"width\":\"100%\",\"max-height\":\"220px\"},attrs:{\"alt\":\"\",\"src\":scope.row.filename}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"subj\",\"label\":\"제목\",\"header-align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"link\",on:{\"click\":function($event){_vm.onDetail(scope)}}},[_vm._v(_vm._s(scope.row.subj))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tp\",\"align\":\"center\",\"label\":\"팝업 구분\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createdAt\",\"align\":\"center\",\"label\":\"등록일\",\"width\":\"150\"}})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.total,\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"current-change\":_vm.onPageChange}}),_vm._v(\" \"),_c('div',{staticClass:\"bottomBtns\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.$router.push('/popup/register')}}},[_vm._v(\"팝업 등록\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc9a9e7a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/popup/PopupList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PopupList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PopupList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc9a9e7a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PopupList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/popup/PopupList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}