webpackJsonp([5],{kTuG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mtWM"),o=a.n(n),l=(a("lbHh"),{data:function(){return{popupData:[],total:1,pageSize:10,currentPage:1}},created:function(){this.onList()},methods:{onList:function(){var t=this;o.a.get("http://15.164.101.68:3000/popup").then(function(e){console.log("========res========="),console.log(e),console.log("========res=========");var a=e.data.popupData;a.reverse(),a.forEach(function(t,e,a){a[e].createdAt=t.createdAt.substring(0,10)});a.forEach(function(t,e,a){a[e].filename="http://15.164.101.68:3000/images/".concat(t.filename)}),t.total=a.length;var n=t.currentPage*t.pageSize,o=n-t.pageSize;console.log(n,o),t.popupData=a.slice(o,n)}).catch(function(t){console.log(t)}).finally(function(t){})},onDetail:function(t){console.log(t),this.$router.push({path:"/popup/detail",query:{popupId:t.row.id}})},onPageChange:function(t){this.onList()}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-table",{attrs:{data:t.popupData}},[a("el-table-column",{attrs:{prop:"id",label:"번호",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"이미지",width:"400",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"popupImg",staticStyle:{width:"100%","max-height":"220px"},attrs:{alt:"",src:t.row.filename}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"subj",label:"제목","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link",on:{click:function(a){t.onDetail(e)}}},[t._v(t._s(e.row.subj))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"tp",align:"center",label:"팝업 구분",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createdAt",align:"center",label:"등록일",width:"150"}})],1),t._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.total,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.onPageChange}}),t._v(" "),a("div",{staticClass:"bottomBtns"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("/popup/register")}}},[t._v("팝업 등록")])],1)],1)},staticRenderFns:[]},c=a("VU/8")(l,r,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=5.dcacf4ebc193885bd13f.js.map